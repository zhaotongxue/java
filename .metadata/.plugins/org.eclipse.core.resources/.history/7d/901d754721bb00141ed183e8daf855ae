package files;

import java.io.IOException;
import java.util.ArrayList;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

public class Xml {

	public static void main(String[] args) throws  Exception, IOException {
		// TODO Auto-generated method stub
		DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
		DocumentBuilder db=dbf.newDocumentBuilder();
		Document d=(Document) db.parse("res/contact.xml");
		//Element e=d.get
		Element rootElement=d.getDocumentElement();
//		pl(rootElement.toString());
		//pl(rootElement.getNodeValue());
		ArrayList<String> al=new ArrayList<String>();
		NodeList contacts=d.getElementsByTagName("Contact");
		for(int i=0;i<contacts.getLength();i++){
			NodeList nl=contacts.item(i).getChildNodes();
			Node node=nl.item(0);
			while(node.getNodeName()!="PhoneList"){
				node=node.getNextSibling();
			}
			for(int j=0;j<node.getChildNodes().getLength();j++){
				al.add("电话:"+node.getChildNodes().item(j).getTextContent());
			}
		}
			for(String s:al){
				pl(s);
			}
//			for(int j=0;j<nl.getLength();j++){
//				
//			}
//		NodeList names=	d.getElementsByTagName("Name");
//		NodeList phoneNumbers=d.getElementsByTagName("PhoneList");
//		for(int i=0;i<names.getLength();i++){
//			if(names.item(i).getParentNode().getNodeName()=="Contact"){
//				al.add(names.item(i).getTextContent()+"\n");
//				names.item(i).get
//			}
//		}
//		for(String item:al){
//			pl(item);
//		}
	}
	public static void pl(String output){
		System.out.println(output);
	}
}
